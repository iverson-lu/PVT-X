{
  "schemaVersion": "1.5.0",
  "id": "case.hw.device.core.status_check",
  "name": "Device Status Check",
  "description": "Scans all devices in Device Manager and fails if any device is in an abnormal state (not covered by ignore rules).",
  "version": "1.0.0",
  "category": "Hardware",
  "owner": "PVT-X",
  "privilege": "User",
  "timeoutSec": 15,
  "parameters": [
    {
      "name": "FailOnStatus",
      "type": "json",
      "required": false,
      "enumValues": ["Error", "DriverMissing","Disabled", "Unknown", "NotStarted"],
      "default": "[\"Error\", \"DriverMissing\"]",
      "uiHint": "multiselect",
      "help": "Device statuses that trigger failure (unless ignored). Multi-select from: Error, Disabled, Unknown, NotStarted, DriverMissing."
    },
    {
      "name": "IgnoreDevices",
      "type": "json",
      "required": false,
      "default": "[{\"device_name\": \"VB-Audio Virtual Cable\"}]",
      "uiHint": "textarea",
      "help": "JSON array of device ignore rules. Each rule can match: device_name, hardware_id, class, status, note. Multiple fields in one rule use AND logic; multiple rules use OR logic. Example: [{\"device_name\": \"Logitech BRIO\"}, {\"class\": \"Bluetooth\"}]"
    },
    {
      "name": "AlwaysCollectDeviceList",
      "type": "boolean",
      "required": false,
      "default": false,
      "help": "When true, always collect full device list in output regardless of pass/fail status."
    }
  ],
  "tags": ["hardware", "device-manager", "diagnostic", "devices"]
}
